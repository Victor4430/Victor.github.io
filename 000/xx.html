<!DOCTYPE html>
<html lang="zh-CN">
	<head>
		<meta charset="UTF-8">
		<title>文件下载和页面跳转</title>
		<style>
			/* 全局样式 */
			body {
				font-family: Arial, sans-serif;
				background-color: #616161;
				margin: 0;
				padding: 0;
				display: flex;
				flex-direction: column;
				align-items: center;
				min-height: 100vh;
			}

			/* 容器样式 */
			.container {
				background-color: #474747;
				padding: 20px;
				box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
				border-radius: 8px;
				width: 90%;
				max-width: 800px;
				text-align: center;
			}

			/* 搜索框和搜索按钮样式 */
			.search-container {
				margin-bottom: 20px;
				display: flex;
				align-items: center;
				position: relative;
				/* 设置搜索框和按钮为同一行 */
			}

			.search-input-container {
				position: relative;
				flex: 1;
			}

			input[type="text"] {
				padding: 10px;
				width: 90%;
				border: 1px solid #ccc;
				border-radius: 4px;
				font-size: 16px;
				box-sizing: border-box;
			}

			.clear-btn {
				position: absolute;
				right: 5%;
				top: 50%;
				transform: translateY(-50%);
				background: none;
				border: none;
				font-size: 10px;
				/* 缩小到原大小的十分之一 */
				color: #aaa;
				cursor: pointer;
			}

			.clear-btn:hover {
				color: #888;
			}

			button {
				padding: 10px;
				width: 100px;
				border: none;
				background-color: #1e90ff;
				color: white;
				border-radius: 4px;
				cursor: pointer;
				font-size: 16px;
				margin-left: 10px;
				transition: background-color 0.3s ease;
			}

			button:hover {
				background-color: #4682b4;
			}

			/* 搜索结果列表样式 */
			.search-results {
				list-style: none;
				padding: 0;
				margin: 0;
				text-align: left;
				position: absolute;
				top: 100%;
				left: 0;
				width: 100%;
				background-color: #474747;
				border-radius: 4px;
				box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
				max-height: 200px;
				overflow-y: auto;
				opacity: 0.8;
				/* 设置透明度为80% */
			}

			.search-results li {
				background-color: #474747;
				padding: 10px;
				border-bottom: 1px solid #555;
				cursor: pointer;
			}

			.search-results li:hover {
				background-color: #616161;
			}

			/* 闪烁效果 */
			.flash {
				animation: flash 2s ease;
			}

			@keyframes flash {
				0% {
					background-color: #474747;
				}

				25% {
					background-color: #ff0000;
				}

				50% {
					background-color: #474747;
				}

				75% {
					background-color: #ff0000;
				}

				100% {
					background-color: #474747;
				}
			}

			/* 标题样式 */
			h1,
			h2 {
				color: #ffffff;
			}

			h1 {
				margin-bottom: 20px;
			}

			h2 {
				margin-bottom: 15px;
			}

			/* 表格样式 */
			table {
				width: 100%;
				border-collapse: collapse;
			}

			th,
			td {
				padding: 12px;
				border-bottom: 1px solid #555;
				text-align: left;
			}

			th {
				background-color: #818181;
				color: #fff;
			}

			td {
				color: #ffffff;
			}

			/* 将下载和跳转链接居右对齐 */
			.right-align {
				text-align: right;
			}

			/* 鼠标悬停在表格行上的效果 */
			tr:hover {
				background-color: #818181;
				transition: background-color 0.3s ease;
			}

			/* 链接样式 */
			a {
				text-decoration: none;
				color: #1e90ff;
				font-weight: bold;
				transition: color 0.3s ease, transform 0.3s ease;
			}

			/* 鼠标悬停在链接上的效果 */
			a:hover {
				color: #ffa500;
				transform: scale(1.1);
			}

			/* 媒体查询：针对宽度在600px及以上的设备 */
			@media (min-width: 600px) {
				.container {
					padding: 40px;
				}

				h1 {
					margin-bottom: 30px;
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<!-- 标题 -->
			<h1>资源中心</h1>
			<!-- 搜索框和搜索按钮 -->
			<div class="search-container">
				<div class="search-input-container">
					<input type="text" id="search" placeholder="输入关键字进行搜索">
					<button id="clear-btn" class="clear-btn">&times;</button>
				</div>
				<button id="search-btn">搜索</button>
				<ul id="search-results" class="search-results"></ul>
			</div>

			<h2>文件下载</h2>
			<table id="file-table">
				<tr>
					<th>文件名</th>
					<th>下载链接</th>
				</tr>
				<tr>
					<td>生成随机通讯录文件.vcf-.py</td>
					<td class="right-align"><a href="生成随机通讯录文件.vcf-.py" download>下载</a></td>
				</tr>
				<tr>
					<td>随机通讯录.vcf</td>
					<td class="right-align"><a href="随机通讯录.vcf" download>下载</a></td>
				</tr>
			</table>
			<h2>页面跳转</h2>
			<table id="page-table">
				<tr>
					<th>页面名</th>
					<th>跳转链接</th>
				</tr>
				<tr>
					<td>隐藏页面1</td>
					<td class="right-align"><a href="xo.html">跳转</a></td>
				</tr>
				<tr>
					<td>隐藏页面2</td>
					<td class="right-align"><a href="xx.html">跳转</a></td>
				</tr>
				<tr>
					<td>隐藏页面3</td>
					<td class="right-align"><a href="xo.html">跳转</a></td>
				</tr>
				<tr>
					<td>隐藏页面4</td>
					<td class="right-align"><a href="xx.html">跳转</a></td>
				</tr>
				<tr>
					<td>隐藏页面5</td>
					<td class="right-align"><a href="xo.html">跳转</a></td>
				</tr>
				<tr>
					<td>隐藏页面6</td>
					<td class="right-align"><a href="xx.html">跳转</a></td>
				</tr>
				<tr>
					<td>隐藏页面7</td>
					<td class="right-align"><a href="xo.html">跳转</a></td>
				</tr>
				<tr>
					<td>隐藏页面8</td>
					<td class="right-align"><a href="xx.html">跳转</a></td>
				</tr>
				<tr>
					<td>隐藏页面9</td>
					<td class="right-align"><a href="xo.html">跳转</a></td>
				</tr>
				<tr>
					<td>隐藏页面10</td>
					<td class="right-align"><a href="xx.html">跳转</a></td>
				</tr>
			</table>
		</div>
		<script>
			// 获取搜索框、搜索按钮、清除按钮和搜索结果列表
			const searchInput = document.getElementById('search');
			const searchButton = document.getElementById('search-btn');
			const clearButton = document.getElementById('clear-btn');
			const searchResults = document.getElementById('search-results');

			// 获取表格的所有行
			const fileTableRows = Array.from(document.querySelectorAll('#file-table tr'));
			const pageTableRows = Array.from(document.querySelectorAll('#page-table tr'));

			// 实时更新候选列表
			searchInput.addEventListener('input', function() {
				const query = searchInput.value.toLowerCase().trim(); // 获取并转换为小写
				const regex = new RegExp(query.split('').join('.*?'), 'i'); // 创建正则表达式
				searchResults.innerHTML = ''; // 清空候选列表

				if (query) {
					let found = false;

					// 搜索文件表格
					fileTableRows.forEach((row, index) => {
						if (index > 0 && regex.test(row.cells[0].textContent)) { // 跳过表头并测试正则表达式
							const li = document.createElement('li');
							li.textContent = row.cells[0].textContent;
							li.dataset.index = index; // 存储行索引
							li.addEventListener('click', function() {
								row.scrollIntoView({
									behavior: 'smooth'
								}); // 滚动到对应行
								highlightRow(row); // 高亮显示该行
							});
							searchResults.appendChild(li);
							found = true;
						}
					});

					// 搜索页面跳转表格
					pageTableRows.forEach((row, index) => {
						if (index > 0 && regex.test(row.cells[0].textContent)) { // 跳过表头并测试正则表达式
							const li = document.createElement('li');
							li.textContent = row.cells[0].textContent;
							li.dataset.index = index + fileTableRows.length; // 索引从文件表格后开始
							li.addEventListener('click', function() {
								row.scrollIntoView({
									behavior: 'smooth'
								}); // 滚动到对应行
								highlightRow(row); // 高亮显示该行
							});
							searchResults.appendChild(li);
							found = true;
						}
					});

					if (!found) {
						const li = document.createElement('li');
						li.textContent = '没有找到匹配项';
						searchResults.appendChild(li);
					}
				}
			});

			// 搜索按钮点击事件
			searchButton.addEventListener('click', function() {
				const query = searchInput.value.toLowerCase().trim(); // 获取并转换为小写
				const regex = new RegExp(query.split('').join('.*?'), 'i'); // 创建正则表达式
				let found = false;

				// 搜索文件表格
				fileTableRows.forEach((row, index) => {
					if (index > 0 && regex.test(row.cells[0].textContent)) { // 跳过表头并测试正则表达式
						row.scrollIntoView({
							behavior: 'smooth'
						}); // 滚动到对应行
						highlightRow(row); // 高亮显示该行
						found = true;
					}
				});

				// 搜索页面跳转表格
				pageTableRows.forEach((row, index) => {
					if (index > 0 && regex.test(row.cells[0].textContent)) { // 跳过表头并测试正则表达式
						row.scrollIntoView({
							behavior: 'smooth'
						}); // 滚动到对应行
						highlightRow(row); // 高亮显示该行
						found = true;
					}
				});

				if (!found) {
					alert('没有找到匹配项'); // 如果没有找到匹配项，则弹出提示
				}
			});

			// 清除按钮点击事件
			clearButton.addEventListener('click', function() {
				searchInput.value = ''; // 清空搜索框
				searchResults.innerHTML = ''; // 清空搜索结果列表
				searchInput.focus(); // 重新聚焦到搜索框
			});

			// 高亮显示匹配的行
			function highlightRow(row) {
				row.classList.add('flash'); // 添加闪烁样式
				setTimeout(() => {
					row.classList.remove('flash'); // 2秒后移除闪烁样式
				}, 2000);
			}
		</script>
	</body>
</html>